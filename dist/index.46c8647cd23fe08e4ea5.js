(()=>{"use strict";var e={722:(e,t,n)=>{var a=n(947),i=n(436),l=n(417),o=n(575),r=n.n(o),s=n(913),c=n.n(s);const u=function(){function e(){r()(this,e)}return c()(e,null,[{key:"getSingleElement",value:function(e){return document.querySelector(e)}},{key:"getMultipleElements",value:function(e){return document.querySelectorAll(e)}}]),e}();var g=n(757),d=n.n(g),m=n(926),v=n.n(m);const f=function(){function e(){r()(this,e)}var t,n,a;return c()(e,null,[{key:"setCoffeeProducts",value:(a=v()(d().mark((function e(t){var n,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("assets/products/products.json");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,t(a);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"sendEmail",value:(n=v()(d().mark((function e(t,n,a,i){var l,o,r,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Email.send({Host:"smtp.gmail.com",Username:"siskoftn@gmail.com",Password:"mcreotjruuzliyvi",To:"siskoftn@gmail.com",From:n,Subject:t,Body:a});case 3:return l=e.sent,e.next=6,l;case 6:o=e.sent,r=o.includes("OK"),s=r?"Message sent successfully":o,r&&i(),alert(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),alert("Error sending the message. Please try again");case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),function(e,t,a,i){return n.apply(this,arguments)})},{key:"fetchLanguageConfiguration",value:(t=v()(d().mark((function e(t,n){var a,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("assets/translations/".concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:i=e.sent,n(i);case 7:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),e}();var p=n(38),h=n.n(p);const y=new(function(){function e(){r()(this,e),this.formValid=!1}return c()(e,[{key:"setFormEvents",value:function(){var e=this,t=u.getSingleElement("#contact-message"),n=u.getSingleElement("#contact-name"),a=u.getSingleElement("#contact-email");t.addEventListener("input",(function(){return e.handleFormElementChange()})),n.addEventListener("input",(function(){return e.handleFormElementChange()})),a.addEventListener("input",(function(){return e.handleFormElementChange()}))}},{key:"handleFormElementChange",value:function(){var e=this.getFormElementValues(),t=h()(e,3),n=t[0],a=t[1],i=t[2],l=u.getSingleElement("#contact-message-name"),o=u.getSingleElement("#contact-message-email"),r=u.getSingleElement("#contact-message-textarea"),s=this.validateFormElement(a.trim(),l,"Please enter contact name","Contact name shouldn't have more than 50 characters",a.length>50),c=this.validateFormElement(i.trim(),o,"Please enter valid email address","Email should have valid format",!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(i)),g=this.validateFormElement(n.trim(),r,"Please enter some message","Message shouldn't contain more than 2000 characters",n.length>2e3);this.setFormValidity(s&&c&&g)}},{key:"validateFormElement",value:function(e,t,n,a,i){return 0===e.length?(this.showFormElementErrorMessage(t,n),!1):i?(this.showFormElementErrorMessage(t,a),!1):(this.showFormElementErrorMessage(t,""),!0)}},{key:"showFormElementErrorMessage",value:function(e,t){e.textContent=t}},{key:"onSubmitForm",value:function(e){var t=this;if(e.preventDefault(),this.formValid){var n=this.getFormElementValues(),a=h()(n,3),i=a[0],l=a[1],o=a[2];f.sendEmail(l,o,i,(function(){return t.clearForm()}))}}},{key:"getFormElementValues",value:function(){return[u.getSingleElement("#contact-message").value,u.getSingleElement("#contact-name").value,u.getSingleElement("#contact-email").value]}},{key:"clearForm",value:function(){u.getSingleElement("#contact-name").value="",u.getSingleElement("#contact-email").value="",u.getSingleElement("#contact-message").value="",this.setFormValidity(!1)}},{key:"setFormValidity",value:function(e){var t=u.getSingleElement("#submit-message");this.formValid=e;var n=this.formValid?1:.4;t.style.opacity=n}}]),e}()),E=new(function(){function e(){r()(this,e)}return c()(e,[{key:"lazyLoadImages",value:function(){var e=u.getMultipleElements("[data-src]"),t=new IntersectionObserver(this.onIntersectImage.bind(this),{root:null,rootMargin:"0px 0px 0px 150px",threshold:.5});e.forEach((function(e){return t.observe(e)}))}},{key:"onIntersectImage",value:function(e,t){var n=this;e.forEach((function(e){e.isIntersecting&&(n.preloadImage(e.target),t.unobserve(e.target))}))}},{key:"preloadImage",value:function(e){var t=e.getAttribute("data-src");t&&(e.src=t,e.style.visibility="visible")}}]),e}()),k=new(function(){function e(){r()(this,e),this.googleMapsAPIkey="AIzaSyChHo9jCCaY2jumTfXZg35NBvvNY0piHXk"}return c()(e,[{key:"initGoogleMap",value:function(){var e=document.createElement("script");document.head.appendChild(e),e.addEventListener("load",(function(){var e={lat:43.749247,lng:19.718955},t=new google.maps.Map(u.getSingleElement("#map"),{center:e,zoom:19,zoomControl:!0,zoomControlOptions:!0,clickableIcons:!0,disableDoubleClickZoom:!1,mapTypeId:google.maps.MapTypeId.ROADMAP});new google.maps.Marker({position:e,map:t,title:"Esentico Boki",icon:"assets/logo/logo__circle__small.png"})}))}}]),e}()),_=new(function(){function e(){r()(this,e),this.mediaQueryCondition="(max-width: 600px)"}return c()(e,[{key:"intializeApp",value:function(){var e=this;this.setCopyrightDate(),this.setEventListeners(),y.setFormEvents(),f.setCoffeeProducts((function(t){return e.renderCoffeeProducts(t)})),k.initGoogleMap()}},{key:"setCopyrightDate",value:function(){u.getSingleElement("#copyright-year").textContent=(new Date).getFullYear()}},{key:"setEventListeners",value:function(){var e=this,t=u.getSingleElement("#contact__form"),n=u.getMultipleElements("[data-tab"),a=u.getSingleElement("#menu-title"),i=u.getSingleElement("#menu-close"),l=u.getSingleElement(".introduction");n.forEach((function(t){t.addEventListener("click",(function(t){return e.onSidebarItemClick(t)})),t.addEventListener("mouseenter",(function(t){return e.onSidebarItemEnterLeave(t,!0)})),t.addEventListener("mouseleave",(function(t){return e.onSidebarItemEnterLeave(t,!1)}))})),t.addEventListener("submit",(function(e){return y.onSubmitForm(e)})),i.addEventListener("click",(function(){return e.onSidebarMenuClose()})),a.addEventListener("click",(function(t){return e.onMenuTitleClick(t)})),l.addEventListener("click",(function(t){return e.onIntroductionWrapperClick(t)})),window.addEventListener("resize",this.onWindowResize.bind(this),!0)}},{key:"onWindowResize",value:function(){var e=u.getSingleElement("#nav"),t=u.getSingleElement("#overlay");if(window.matchMedia(this.mediaQueryCondition).matches){var n="block"===t.style.display;e.style.display=n?"block":"none"}else e.style.display="block"}},{key:"onIntroductionWrapperClick",value:function(e){var t=u.getSingleElement(".header__language--expanded"),n="block"===t.style.display;!e.target.closest(".header__language")&&n&&(t.style.display="none")}},{key:"onMenuTitleClick",value:function(e){var t=e.currentTarget,n=u.getSingleElement("#menu-close");if(n.classList.value.includes("hidden")){var a=u.getSingleElement("#nav"),i=u.getSingleElement("#overlay");u.getMultipleElements(".sidenav__title").forEach((function(e){return e.classList.toggle("sidenav__title--active")})),a.style.display="block",t.style.display="none",i.style.display="block",i.style.height="".concat(document.body.scrollHeight,"px"),n.classList.remove("hidden"),document.body.style.overflow="hidden"}}},{key:"onSidebarMenuClose",value:function(){var e=u.getSingleElement("#overlay"),t=u.getSingleElement("#menu-title"),n=u.getSingleElement("#menu-close");u.getMultipleElements(".sidenav__title").forEach((function(e){return e.classList.toggle("sidenav__title--active")})),this.checkToShowNavigationElement(),t.style.display="block",e.style.display="none",n.classList.add("hidden"),document.body.style.overflow="auto"}},{key:"checkToShowNavigationElement",value:function(){var e=u.getSingleElement("#nav"),t=window.matchMedia(this.mediaQueryCondition).matches?"none":"block";e.style.display=t}},{key:"onSidebarItemEnterLeave",value:function(e,t){var n=e.target.closest("[data-tab]").querySelector(".sidenav__title");n&&(t?n.classList.add("sidenav__title--active"):u.getSingleElement("#menu-close").classList.value.includes("hidden")&&n.classList.remove("sidenav__title--active"))}},{key:"renderCoffeeProducts",value:function(e){var t=u.getSingleElement(".products__container"),n=e.map((function(e){var t=e.picture,n=e.price,a=e.name,i=e.description,l=e.available,o=e.action,r=e.actionText,s=l?"product__card--footer-available":"product__card--footer-unavailable",c=l?"product__card--price-available":"product__card--price-unavailable",u=o?'<span class="product__card--action">'.concat(r,"</span>"):"";return'\n                    <div class="product__card">\n                        <img data-src="assets/img/coffee_sack.png" alt="coffee-sack" class="product__card--img-sack">\n                            <span>\n                                <img data-src="'.concat(t,'" alt="').concat(a,'" class="product__card--img-inside">\n                            </span>\n                        <div class="product__card--text">\n                            <p>').concat(a,"</p>\n                            <span>").concat(i,'</span>\n                        </div>\n                        <div class="product__card--footer">\n                            <span class="').concat(s,'">').concat(l?"available":"not available",'</span>\n                            <div>\n                                <span class="product__card--price ').concat(c,'">\n                                    ').concat(n,' \n                                    <span class="product__card--unit">RSD/kg</span>\n                                </span>\n                            </div>\n                            ').concat(u,"\n                        </div>\n                    </div>\n            ")})).join(""),a=document.createRange().createContextualFragment(n);t.appendChild(a),this.initIntersectionObserver(window.matchMedia(this.mediaQueryCondition)?0:400),E.lazyLoadImages()}},{key:"setLocalstorageItem",value:function(e,t){localStorage.setItem(e,t)}},{key:"onSidebarItemClick",value:function(e){var t=e.currentTarget.dataset.section;"block"===u.getSingleElement("#overlay").style.display&&this.onSidebarMenuClose();var n=u.getSingleElement("#".concat(t)).getBoundingClientRect().top+window.scrollY;window.scrollTo({top:n,behavior:"smooth"})}},{key:"getBeansOffset",value:function(e){var t=Number.parseInt(e,10);return"calc(".concat(33.3*(t-1),"% - 7px)")}},{key:"getLocalstorageItem",value:function(e){return localStorage.getItem(e)}},{key:"initIntersectionObserver",value:function(e){var t={root:null,rootMargin:"0px 0px -".concat(e,"px 0px"),threshold:.1},n=new IntersectionObserver(this.onIntersectingSection.bind(this),t),a=u.getSingleElement("#home"),i=u.getSingleElement("#beans"),l=u.getSingleElement("#contact");[a,i,u.getSingleElement("#products"),l].forEach((function(e){return n.observe(e)}))}},{key:"onIntersectingSection",value:function(e){var t=this;e.forEach((function(e){if(e.isIntersecting){var n=e.target,a=u.getSingleElement("#slider__beans"),i=t.getBeansOffset(n.dataset.id);a.style.top=i}}))}},{key:"fetchMainImage",value:function(){u.getSingleElement("#introduction__image").src="assets/img/intro-coffee.jpg"}}]),e}());var S=n(319),b=n.n(S);const L=new(function(){function e(){r()(this,e)}return c()(e,[{key:"replaceText",value:function(e,t){var n=Object.keys(e.dataset).find((function(e){return"i18n"!==e&&e.includes("i18n")}));e.innerText=t[n]||n}},{key:"replaceAllTranslations",value:function(e){var t=this;u.getMultipleElements("[data-i18n]").forEach((function(n){return t.replaceText(n,e)}))}},{key:"translateText",value:function(e){f.fetchLanguageConfiguration(e,this.replaceAllTranslations.bind(this))}}]),e}()),w=new(function(){function e(){r()(this,e)}return c()(e,[{key:"setEventListeners",value:function(){var e=this,t=u.getSingleElement("#language"),n=u.getSingleElement(".header__dialect"),a=u.getSingleElement(".header__language--expanded");t.addEventListener("click",(function(){return e.onOpenLanguageSelection()})),a.addEventListener("click",(function(t){return e.onLanguageSelection(t)})),n.addEventListener("click",(function(t){return e.onLanguageDialectSelect(t)})),this.setDefaultLanguage(_.getLocalstorageItem("esenticoBokiLanguage")||"uk")}},{key:"onOpenLanguageSelection",value:function(){var e=u.getSingleElement(".header__language--expanded"),t="block"===e.style.display;e.style.display=t?"none":"block"}},{key:"onLanguageSelection",value:function(e){var t=e.target.closest(".language__selection");if(t){var n=t.dataset.language,a=n.includes("serbian")?"serbian-latin":n;this.setDefaultLanguage(a),L.translateText(a)}}},{key:"setDefaultLanguage",value:function(e){if(e&&/(uk|serbian-latin|serbian-cyrillic)/.test(e)){var t=u.getSingleElement(".header__dialect"),n=u.getMultipleElements(".language__selection");n.forEach((function(e){return e.classList.remove("active")})),b()(n).find((function(t){return e.includes(t.dataset.language)})).classList.add("active"),t.style.display="uk"===e?"none":"flex",_.setLocalstorageItem("esenticoBokiLanguage",e),this.checkToSetLanguageDialect(e,"uk"!==e,!0),L.translateText(e)}}},{key:"onLanguageDialectSelect",value:function(e){var t=e.target.closest(".language__dialect");if(t){this.removeSelectedDialects();var n=u.getSingleElement(".header__language--expanded"),a=t.dataset.dialect;t.classList.add("active"),n.style.display="none",_.setLocalstorageItem("esenticoBokiLanguage",a),L.translateText(a)}}},{key:"checkToSetLanguageDialect",value:function(e,t){var n=u.getSingleElement(".header__language--expanded");t?(this.removeSelectedDialects(),u.getSingleElement('[data-dialect="'.concat(e,'"]')).classList.add("active")):n.style.display="none"}},{key:"removeSelectedDialects",value:function(){u.getMultipleElements(".language__dialect").forEach((function(e){return e.classList.remove("active")}))}}]),e}());a.vI.add(i.NBC,i.FGq,i.g4A,l.pZl,l.sd1,l.Zzi),a.vz.watch(),document.addEventListener("DOMContentLoaded",(function(){_.intializeApp(),w.setEventListeners(),w.setDefaultLanguage(_.getLocalstorageItem("esenticoBokiLanguage")||"uk")})),window.addEventListener("load",(function(){_.fetchMainImage()}))}},t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0},t=[[722,933]],a=e=>{},i=(i,l)=>{for(var o,r,[s,c,u,g]=l,d=0,m=[];d<s.length;d++)r=s[d],n.o(e,r)&&e[r]&&m.push(e[r][0]),e[r]=0;for(o in c)n.o(c,o)&&(n.m[o]=c[o]);for(u&&u(n),i&&i(l);m.length;)m.shift()();return g&&t.push.apply(t,g),a()},l=self.webpackChunkesentico_boki_coffee=self.webpackChunkesentico_boki_coffee||[];function o(){for(var a,i=0;i<t.length;i++){for(var l=t[i],o=!0,r=1;r<l.length;r++){var s=l[r];0!==e[s]&&(o=!1)}o&&(t.splice(i--,1),a=n(n.s=l[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),a}l.forEach(i.bind(null,0)),l.push=i.bind(null,l.push.bind(l));var r=n.x;n.x=()=>(n.x=r||(e=>{}),(a=o)())})(),n.x()})();